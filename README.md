# Ozon Route 256 ‚Äî Kafka Homework

## –î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ
–ù–∞—à –º–∞–ª–µ–Ω—å–∫–∏–π —Å—Ç–∞—Ä—Ç–∞–ø –ö–∏—Å–ª–æ—Ä–æ–¥.–†—É –ø–µ—Ä–µ—Ä–æ—Å –≤ —Å–µ—Ä—å–µ–∑–Ω—ã–π –±–∏–∑–Ω–µ—Å, –∏ –Ω–∞–º –Ω—É–∂–Ω–æ –Ω–∞—É—á–∏—Ç—å—Å—è –≤ —É—á—ë—Ç –ø—Ä–æ–¥–∞–Ω–Ω–æ–≥–æ —Ç–æ–≤–∞—Ä–∞, –∞ —Ç–∞–∫–∂–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –≤ –∞–Ω–∞–ª–∏—Ç–∏–∫—É –ø—Ä–æ–¥–∞–≤–∞–µ–º–æ–≥–æ —Ç–æ–≤–∞—Ä–∞

–í –ø—Ä–æ–¥–µ —É –Ω–∞—Å –µ—Å—Ç—å —Å–µ—Ä–≤–∏—Å –∑–∞–∫–∞–∑–æ–≤, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞–∫–∞–∑–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤ —Ç–æ–ø–∏–∫ –ö–∞—Ñ–∫–∏ —Å–æ–±—ã—Ç–∏–µ –æ–± —ç—Ç–æ–º (–≤ —Ä–∞–º–∫–∞—Ö –î–ó –µ–≥–æ —Ä–æ–ª—å –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∫–æ–Ω—Å–æ–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –Ω–µ—â–∞–¥–Ω–æ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–æ–±—ã—Ç–∏—è –≤ —ç—Ç–æ—Ç —Ç–æ–ø–∏–∫). 

–í–æ—Ç —Ñ–æ—Ä–º–∞—Ç —ç—Ç–æ–≥–æ —Å–æ–±—ã—Ç–∏—è:
```json
{
    "moment": timestamp,
    "order_id": long,
    "user_id": long,
    "warehouse_id": long,
    "positions": {
        "item_id": long,
        "quantity": int,
        "price": {
            "currency: "RUR|KZT",
            "units": long,
            "nanos": long
        }
    },
    "status": "created|cancelled|delivered"
}
```

–ù–∞—à–∏ –∑–∞–¥–∞—á–∞ ‚Äî –Ω–∞–ø–∏—Å–∞—Ç—å —Å–µ—Ä–≤–∏—Å, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç —á–∏—Ç–∞—Ç—å —ç—Ç–æ—Ç —Ç–æ–ø–∏–∫ –∏ —Å—á–∏—Ç–∞—Ç—å –≤–∏—Ç—Ä–∏–Ω—É –¥–∞–Ω–Ω—ã—Ö:
* –£—á–µ—Ç —Ç–æ–≤–∞—Ä–æ–≤ ‚Äî –ø–æ –∫–∞–∂–¥–æ–º—É item_id: —Å–∫–æ–ª—å–∫–æ –∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–æ (created), —Å–∫–æ–ª—å–∫–æ –ø—Ä–æ–¥–∞–Ω–æ (–ø–µ—Ä–µ—Ö–æ–¥ created ‚Üí delivered), —Å–∫–æ–ª—å–∫–æ –æ—Ç–º–µ–Ω–µ–Ω–æ (created ‚Üí cancelled)
* üíé –£—á—ë—Ç –¥–µ–Ω–µ–∂–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤ –∫ —É–ø–ª–∞—Ç–µ –∫–∞–∂–¥–æ–º—É –ø—Ä–æ–¥–∞–≤—Ü—É ‚Äî item_id ‚Äî —Å–æ—Å—Ç–∞–≤–Ω–æ–π



## Docker cheat sheet
* –ï—Å–ª–∏ —É –≤–∞—Å –≤—Å—ë –µ—â—ë –Ω–µ—Ç docker ‚Äî –µ–≥–æ –Ω—É–∂–Ω–æ –ø–æ—Å—Ç–∞–≤–∏—Ç—å.
* –ó–∞–ø—É—Å—Ç–∏—Ç—å docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã (–ë–î): `docker compose up -d`
* –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã (–ë–î): `docker compose down`
* –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ –ø–æ—á–∏—Å—Ç–∏—Ç—å docker –æ—Ç –¥–∞–Ω–Ω—ã—Ö: `docker compose down -v`
* Docker –ø–æ–ª–æ–º–∞–ª—Å—è: `docker system prune`


## Kafka cheat sheet
* –ó–∞–≤–æ–¥–∏—Ç–µ Kafka —á–µ—Ä–µ–∑ docker. –ü—Ä–∏–º–µ—Ä docker-compose-—Ñ–∞–π–ª–∞ —Å Kafka –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –≤–æ—Ä–∫—à–æ–ø–∞ —ç—Ç–æ–π –Ω–µ–¥–µ–ª–∏: https://gitlab.ozon.dev/cs/classroom-6/Week-6/workshop/-/blob/master/docker-compose.yml
* –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à hosts-—Ñ–∞–π–ª (–¥–ª—è windows —ç—Ç–æ `c:\windows\system32\drivers\etc\hosts`) –î–æ–±–∞–≤—å—Ç–µ —Ç—É–¥–∞ —Å—Ç—Ä–æ—á–∫—É `127.0.0.1 kafka`.
* Offset Explorer (—Ä–∞–Ω–µ–µ –Ω–∞–∑—ã–≤–∞–ª–æ—Å—å Kafka Tool): https://www.kafkatool.com/ ‚Äî –ø–æ–∑–≤–æ–ª—è–µ—Ç —á–∏—Ç–∞—Ç—å –∏ –ø–∏—Å–∞—Ç—å –≤ Apache Kafka —á–µ—Ä–µ–∑ –ø—Ä–æ—Å—Ç–æ–π UI. –î–∞, –ø–∏—Å–∞—Ç—å –∏ —á–∏—Ç–∞—Ç—å protobuf –ø–æ—á—Ç–∏ –Ω–µ—Ä–µ–∞–ª—å–Ω–æ. –ù–æ —ç—Ç–æ –æ—Ç–¥–µ–ª—å–Ω–∞—è –±–æ–ª—å –≤ –Ω–∞—à–µ–º –º–∏—Ä–µ.
* –ö–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å Offset Explorer? 
* * Clusters ‚Üí Add New Connection
* * Cluster Name ‚Üí –õ—é–±–æ–µ –∏–º—è
* * –í–∫–ª–∞–¥–∫–∞ Advanced ‚Üí Bootstrap Servers ‚Üí –Ω–∞–ø–∏—Å–∞—Ç—å `kafka:9092`
* * Test, Add
* –°–µ—Ä—å–µ–∑–Ω—ã–µ –¥–µ–≤—á–∞—Ç–∞ –∏ –ø–∞—Ü–∞–Ω—ã –∫–∞—á–∞—é—Ç Kafka (https://kafka.apache.org/downloads) –∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç sh/bat-—Ñ–∞–π–ª—ã –æ—Ç—Ç—É–¥–∞, —á—Ç–æ–±—ã —Ä–∞–±–æ—Ç–∞—Ç—å —Å –ª–æ–∫–∞–ª—å–Ω–æ–π/–¥–æ–∫–µ—Ä/—Å—Ç–µ–π–¥–∂/–ø—Ä–æ–¥ Kafka. –ù–æ –º—ã —Ç—É—Ç –≤—Å–µ –Ω–µ—Å–µ—Ä—å–µ–∑–Ω—ã–µ, –∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç–∞–∫–æ–µ —Ç–æ–ª—å–∫–æ –≤ —Å–ª—É—á–∞–µ –∫—Ä–∞–π–Ω–µ–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.